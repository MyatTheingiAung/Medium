<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
<%= render 'share/login_nav' %>
<section class="container">
    <div class="row py-5">
        <div class="col-12 col-lg-8 mx-auto">
            <div class="px-3 py-2 px-md-5 py-md-4 border border-3 border-secondary" style="border-radius:20px">
                <h3 class="mb-3">Post Create</h3>
                <%= render 'form' %>
            </div>
        </div>
    </div>
</section>
<script>
    var $image = $(".db-img");
    $image.css('display','none');
    $('#imageInput').on('change', function() {
        $('.cached-img').addClass('d-none');
        $input = $(this);
        if($input.val().length > 0) {
            fileReader = new FileReader();
            fileReader.onload = function (data) {
            $('.image-preview').attr('src', data.target.result);
            }
            fileReader.readAsDataURL($input.prop('files')[0]);
            $('.image-preview').removeClass('d-none');
            $('.image-preview').addClass('mb-4');
        }
    });
    $('#summernote').summernote({
        placeholder: 'Post Description',
        tabsize: 2,
        height: 120,
        toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear']],
            ['color', ['color']],
        ]
    });
</script>
