<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
<nav class="navbar border-bottom border-dark sticky-top w-100" style="background-color:#fff;z-index:2;border-bottom:1px solid rgba(242, 242, 242, 1);">
    <div class="container-fluid py-2 d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
            <a class="navbar-brand ps-3 pe-1 py-0 fs-4 fw-bold" href="#">
                <svg viewBox="0 0 1043.63 592.71" style="height:25px"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg>
            </a>
            <div class="d-none d-md-flex search-div align-items-center p-2">
                <div class="mx-2">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg>
                </div>
                <input type="text" class="border border-0" name="search" placeholder="Search Medium">
            </div>
        </div>
        <ul class="d-flex align-items-center m-0">
            <li class="d-md-none nav-item list-unstyled pe-4">
                <a class="nav-link txt-color" href="#">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Search"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg>
                </a>
            </li>
            <li class="d-none d-md-block nav-item list-unstyled pe-3">
                <a class="nav-link txt-color" href="#">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg>
                    <span>Write</span>
                </a>
            </li>
            <li class="nav-item list-unstyled">
                <div class="dropdown border border-0">
                    <a class="btn dropdown-toggle border border-0" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <%= image_tag "image.jpg",height: 30, class:"rounded-circle" %>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li class="d-block d-md-none">
                            <a class="dropdown-item py-2 txt-color" href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg>
                                <span class="ms-3">Write</span>
                            </a>
                        </li>
                        <div class="d-block d-md-none" style="background-color: rgb(230, 230, 230);margin: 8px 16px;height:2px;width:24px;"></div>
                        <li>
                            <a class="dropdown-item py-2 txt-color" href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Profile"><circle cx="12" cy="7" r="4.5" stroke="currentColor"></circle><path d="M3.5 21.5v-4.34C3.5 15.4 7.3 14 12 14s8.5 1.41 8.5 3.16v4.34" stroke="currentColor" stroke-linecap="round"></path></svg>
                                <span class="ms-3">Profile</span>
                            </a>
                        </li>
                        <li class="border-bottom pb-2">
                            <a class="dropdown-item pb-2 txt-color" href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M6.44 6.69h0a1.5 1.5 0 0 1 1.06-.44h9c.4 0 .78.16 1.06.44l.35-.35-.35.35c.28.28.44.66.44 1.06v14l-5.7-4.4-.3-.23-.3.23-5.7 4.4v-14c0-.4.16-.78.44-1.06z" stroke="currentColor"></path><path d="M12.5 2.75h-8a2 2 0 0 0-2 2v11.5" stroke="currentColor" stroke-linecap="round"></path></svg>
                                <span class="ms-3">Lists</span>
                            </a>
                        </li>
                        <li><a class="dropdown-item py-2 txt-color" href="#">Sign Out</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</nav>
<section class="container">
    <div class="row py-5">
        <div class="col-12 col-lg-8 mx-auto">
            <div class="px-3 py-2 px-md-5 py-md-4 border border-3 border-secondary" style="border-radius:20px">
                <%= form_with do |form| %>
                    <h3 class="mb-3">Post Create</h3>
                    <%= form.text_field :title , class:"form-control mb-4", placeholder:"Post Title" %>
                    <%= form.select(:category, ['Item 1', 'Item 2'], {include_blank: "Select a category"}, { :class => 'form-select mb-4' }) %>
                    <%= image_tag "", class:"image-preview d-none img-fluid rounded mb-4", style:"width:100px;height:100px" %>
                    <%= form.file_field :image, accept:"image/png,image/gif,image/jpeg,image/jpg", id:"imageInput", class:"form-control mb-4" %>
                    <%= form.text_area :description, id:"summernote" %>
                    <%= form.submit 'Publish' , class:"mt-4 btn btn-secondary" %>
                <% end %>
            </div>
        </div>
    </div>
</section>
<script>
    $('#imageInput').on('change', function() {
        $input = $(this);
        if($input.val().length > 0) {
            fileReader = new FileReader();
            fileReader.onload = function (data) {
                console.log(data.target.result);
            $('.image-preview').attr('src', data.target.result);
            }
            fileReader.readAsDataURL($input.prop('files')[0]);
            $('.image-preview').removeClass('d-none');
        }
    });
    $('#summernote').summernote({
        placeholder: 'Post Description',
        tabsize: 2,
        height: 120,
        toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear']],
            ['color', ['color']],
        ]
    });
</script>
